"use strict";(()=>{var e={};e.id=801,e.ids=[801],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9454:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>T,patchFetch:()=>_,requestAsyncStorage:()=>g,routeModule:()=>d,serverHooks:()=>h,staticGenerationAsyncStorage:()=>m});var r={};s.r(r),s.d(r,{GET:()=>c,POST:()=>u});var a=s(5468),n=s(2197),o=s(4694),p=s(5685);let i=process.env.TELEGRAM_BOT_TOKEN,l=`https://api.telegram.org/bot${i}`;async function u(e){try{let{action:t,chatId:s,message:r}=await e.json();if("send_test"===t){let e=`🧪 Test message from vonnect.net

📱 ID: test-${Date.now()}
👤 Usuario: Test User

📝 Mensaje:
"${r||"This is a test message"}"

_Please reply to test the return flow._`,t=await fetch(`${l}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:s,text:e,parse_mode:"Markdown"})}),a=await t.json();return p.NextResponse.json({success:a.ok,message:a.ok?"Test message sent":"Failed to send test message",result:a})}if("check_responses"===t){let e=globalThis.__telegram_responses||new Map,t=`test-${s}`,r=e.get(t);return p.NextResponse.json({found:!!r,response:r||null,totalResponses:e.size,allChatIds:Array.from(e.keys())})}return p.NextResponse.json({error:"Invalid action"},{status:400})}catch(e){return console.error("Test endpoint error:",e),p.NextResponse.json({error:"Test failed",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}async function c(){try{return p.NextResponse.json({message:"Telegram Test Endpoint",instructions:{step1:'POST with { "action": "send_test", "chatId": "YOUR_CHAT_ID", "message": "Test message" }',step2:"Reply to the message in Telegram",step3:'POST with { "action": "check_responses", "chatId": "YOUR_CHAT_ID" }',note:"Replace YOUR_CHAT_ID with your actual Telegram chat ID"},endpoints:{health:"/api/telegram/health",debug:"/api/telegram/debug",webhook:"/api/telegram/webhook",setup:"/admin/telegram-setup"}})}catch(e){return p.NextResponse.json({error:"Failed to show instructions"},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/app/api/telegram/test/route",pathname:"/app/api/telegram/test",filename:"route",bundlePath:"app/app/api/telegram/test/route"},resolvedPagePath:"C:\\Users\\pc\\Desktop\\BrainTask - Vonnect\\Vonnect_Web\\vonnect_redesign\\app\\app\\api\\telegram\\test\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:g,staticGenerationAsyncStorage:m,serverHooks:h}=d,T="/app/api/telegram/test/route";function _(){return(0,o.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:m})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[343,769],()=>s(9454));module.exports=r})();